# Loops

## The For loop

* The syntax for this loop is:
  for NAME [in LIST ]; do COMMANDS; done


* The return status is the exit status of the last command that executes. If no commands are executed because
  LIST does not expand to any items, the return status is zero.

* NAME can be any variable name, `i` is used very often.

* LIST can be any list of words, strings or
  numbers, which can be literal or generated by any command

* If `[in LIST]` is not present, it is replaced with in `$@` and for executes the COMMANDS once for each
  positional parameter that is set.

```shell
# a backup copy of each .py file in /python-apt
PY_FILES=$(ls /python-apt/**/*.py)

mkdir -p /backup

for f in $PY_FILES
do
  mkdir -p "/backup$(dirname $f)"
  cp $f /backup$f
done  
```

```shell

echo "try one"

for planet in "Mercury" "Venus" "Earth" "Mars" "Jupiter" "Saturn" "Uranus" "Neptune" "Pluto"
do
  echo $planet
done


echo "try two"

for planet in "Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune Pluto"
do
  echo $planet
done


echo "try three"

for planet in Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune Pluto
do
  echo $planet
done

```

File expansion with globbing

```shell
filename="/etc/*.conf"
for file in $filename
do
  echo "Contents of $file"
  echo "---"
  cat "$file"
  echo
done
```

Brace expansion

```shell
for a in file{1..10}.json
do
  echo "accessing file $a "
done
```

## The While loop

while loop finds use in situations where the
number of loop repetitions is not known beforehand.

```
while [ condition ]
do
  command(s)...
done
```

### I/O redirection in while loop

Instead of controlling a loop by testing the result of a command, you can specify a file from
which to read input that controls the loop.
In such cases, read is often the controlling command.
As long as
input lines are fed into the loop, execution of the loop commands continues. As soon as all the input lines are
read the loop exits.

**The redirection should occur after the done statement**

```shell

lines=10

while read line && [ "$lines" -gt 0 ]; do
  ((lines -= 1))
  echo "$line"
done < sample_data/mnist_test.csv
```

